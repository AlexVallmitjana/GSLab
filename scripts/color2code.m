function [c,q] = color2code(rgb)
% find closest superjet color code
[cc,cdiccio,dnams] = inicialitza();
cdiccio=cdiccio/10;
dist=999;q=0;
for ii=1:numel(cc)
gg=abs(cdiccio(ii,:)-rgb);
gg=sum(gg.*gg);
if(gg<dist),dist=gg;q=ii;end
end

c=cc(q);
end
% copied from superjet
function [cc,cdiccio,dnams] = inicialitza()

 cc='kubcgyorpwmvsnltidfxeajhqz 0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ,.-;:_[]';% index del diccionari
cdiccio=[0 0 0;5 0 10;0 0 10;0 10 10;0 10 0;...
    10 10 0;10 7 0;10 0 0;10 5 9;10 10 10;...
    10 0 10;6 0 8;10 5 5;5 3 1;5 10 0;...
    0 10 5;3 0 7;0 2 4;9 7 4;9 10 10;...
    0 4 0;10 5 0;6 8 0;9 3 1;10 9 9;...
    8 0 2;7 2 2;...
    .5 .5 .5;1 1 1;...
    2 2 2;3 3 3;4 4 4;5 5 5;...
    6 6 6;7 7 7;8 8 8;9 9 9;...
    5 0 6;9 8 5;10 10 8;9 9 2;...
    3.3 3.5 3;10 0 5;10 8 0;8 10 8;...
    10 10 9;2 2 3;7 8 5;8 6 8;...
    5 0 0;1 1 4;8 5 1;9.5 9.5 10;...
    5 10 9;9 1 4;1 3 7;0 5 5;...
    10 9 4;9 2 2;4 2 2;3 2 2;...
    6 0 2;0 5 10;...
    6 0 1;0 3 8;7 5 2;2 3 2;...
    9 4 8;5 6 4;4 2 1;8 3 0;...
    ];
dnams={'black','purple','blue','cyan','green',...
    'yellow','orange','red','pink','white',...
    'magenta','violet','salmon','brown','lime',...
    'turquoise','indigo','denim','flesh','xenon',...
    'emerald','amber','jade','heat','quartz',...    
    'crimson','lava',...
    'charcoal','iron',...
    'lead','tin','zinc','gray',...
    'nickel','silver','titanium','aluminium',...
    'amethyst','beige','cream','dandelion',...
    'ebony','fuchsia','gold','honeydew',...
    'ivory','jet','khaki','lilac',...
    'maroon','navy','ochre','pearl',...
    'aquamarine','ruby','sapphire','teal',...
    'mustard','vermilion','wine','onyx',...
    'burgundy','azure',...
    'carmine','cobalt','copper','opal',...
    'orchid','sage','sepia','tawny',...
    };
end
